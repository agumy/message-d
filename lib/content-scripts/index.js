(()=>{var e={905:function(e,r,n){"use strict";var t=this&&this.__awaiter||function(e,r,n,t){return new(n||(n=Promise))((function(s,o){function a(e){try{l(t.next(e))}catch(e){o(e)}}function i(e){try{l(t.throw(e))}catch(e){o(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,i)}l((t=t.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var n,t,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(s=2&o[0]?t.return:o[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,o[1])).done)return s;switch(t=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(e){o=[6,e],t=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.getAllTextNodeConsideringSelector=void 0;var o=n(555),a=["TITLE","SCRIPT","STYLE","TEXTAREA","SVG","CODE","PRE"],i=["BR","KBD","WBR"],l=[],c=function(e,r){return void 0===r&&(r=0),!(e instanceof Element&&e.innerHTML.length>1e3)&&(3===e.nodeType||!!i.includes(e.nodeName.toUpperCase())||2!==r&&!!e.childNodes.length&&(!!function(e){return e.childNodes.length&&Array.from(e.childNodes).every((function(e){return 3===e.nodeType}))}(e)||e instanceof Element&&e.innerHTML.length<250||Array.from(e.childNodes).every((function(e){return c(e,r+1)}))))};r.getAllTextNodeConsideringSelector=function(e){return void 0===e&&(e=document.body),t(void 0,void 0,void 0,(function(){var r,n;return s(this,(function(t){switch(t.label){case 0:return[4,o.getSelectorStorage()];case 1:return r=t.sent().selectors,[2,(n=function(e){if(c(e))l.push(e);else for(var t=0,s=Array.from(e.childNodes);t<s.length;t++){var o=s[t];1!==o.nodeType||a.includes(o.nodeName.toUpperCase())||Array.from(o.classList).some((function(e){return r.includes(e)}))||n(o)}return l})(e)]}}))}))}},217:function(e,r,n){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var s in r=arguments[n])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,r,n,t){return new(n||(n=Promise))((function(s,o){function a(e){try{l(t.next(e))}catch(e){o(e)}}function i(e){try{l(t.throw(e))}catch(e){o(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,i)}l((t=t.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var n,t,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(s=2&o[0]?t.return:o[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,o[1])).done)return s;switch(t=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(e){o=[6,e],t=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(r,"__esModule",{value:!0});var a=n(416),i=n(863),l=n(611),c=n(955),g=n(905),m=[],u=[],d=[],A=!1,f=function(){var e=document.createElement("div");return e.classList.add("message-d__loader"),e.id="message-d__loader-id",e},v=function(e){return s(void 0,void 0,Promise,(function(){var r,n,t,l;return o(this,(function(g){return"c"===e.key&&e.ctrlKey?(r=null,n=function(e){var n=e.clientX,t=e.clientY,s=document.elementFromPoint(n,t);(null==r?void 0:r.isEqualNode(s))||(null==r||r.classList.remove("message-d__translator"),null==s||s.classList.add("message-d__translator"),r=s)},t=function(e){return s(void 0,void 0,Promise,(function(){var n,t,s,l,g;return o(this,(function(o){switch(o.label){case 0:return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),(n=document.elementFromPoint(e.clientX,e.clientY))?(null==r||r.classList.remove("message-d__translator"),t=f(),document.querySelector("#message-d__loader-id")||document.body.appendChild(t),s=n.innerHTML,l=s.replaceAll(/\. /g,"$&\n"),[4,i.sha256(l)]):[2];case 1:return g=o.sent(),m.push({original:l,translationKey:g,dom:n}),c.waitAsync((function(){return!A}),(function(){var e,r;A=!0,a.browser.runtime.sendMessage({key:"requestTranslation",value:null===(e=m[0])||void 0===e?void 0:e.original,translationKey:null===(r=m[0])||void 0===r?void 0:r.translationKey})})),[2]}}))}))},l=function(e){("Escape"===e.key||"c"===e.key&&e.ctrlKey)&&(document.removeEventListener("mousemove",n),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",l),document.addEventListener("keydown",v),document.querySelectorAll(".message-d__translator").forEach((function(e){e.classList.remove("message-d__translator")})))},document.addEventListener("mousemove",n),document.addEventListener("click",t,!0),document.addEventListener("keydown",l),document.removeEventListener("keydown",v),[2]):[2]}))}))},p=function(e){return s(void 0,void 0,Promise,(function(){var r,n,t,l;return o(this,(function(u){return"p"===e.key&&e.ctrlKey?(r=null,n=function(e){var n=e.clientX,t=e.clientY,s=document.elementFromPoint(n,t);(null==r?void 0:r.isEqualNode(s))||(null==r||r.classList.remove("message-d__translator"),null==s||s.classList.add("message-d__translator"),r=s)},t=function(e){return s(void 0,void 0,Promise,(function(){var n,t,l,u,d;return o(this,(function(v){switch(v.label){case 0:return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),(n=document.elementFromPoint(e.clientX,e.clientY))?(null==r||r.classList.remove("message-d__translator"),t=f(),document.querySelector("#message-d__loader-id")||document.body.appendChild(t),[4,g.getAllTextNodeConsideringSelector(n)]):[2];case 1:return l=v.sent(),u=l.filter((function(e){var r;return null===(r=e.textContent)||void 0===r?void 0:r.trim()})).map((function(e){return{isTranslated:!1,node:e}})),(d=function(){return s(void 0,void 0,void 0,(function(){var e,r,n,t,s,l,g;return o(this,(function(o){switch(o.label){case 0:e=u.filter((function(e,r){if(e.isTranslated)return!1;var n=e.node.getBoundingClientRect();return n.top>=0&&n.top<=window.innerHeight&&(u[r].isTranslated=!0,!0)})),r=0,n=e,o.label=1;case 1:return r<n.length?(t=n[r],s=t.node.innerHTML,l=s.replaceAll(/\. /g,"$&\n"),[4,i.sha256(l)]):[3,4];case 2:g=o.sent(),m.push({original:l,translationKey:g,dom:t.node}),c.waitAsync((function(){return!A}),(function(){var e,r;A=!0,a.browser.runtime.sendMessage({key:"requestTranslation",value:null===(e=m[0])||void 0===e?void 0:e.original,translationKey:null===(r=m[0])||void 0===r?void 0:r.translationKey})})),o.label=3;case 3:return r++,[3,1];case 4:return setTimeout(d,2e3),[2]}}))}))})(),[2]}}))}))},l=function(e){("Escape"===e.key||"p"===e.key&&e.ctrlKey)&&(document.removeEventListener("mousemove",n),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",l),document.addEventListener("keydown",p),document.querySelectorAll(".message-d__translator").forEach((function(e){e.classList.remove("message-d__translator")})))},document.addEventListener("mousemove",n),document.addEventListener("click",t,!0),document.addEventListener("keydown",l),document.removeEventListener("keydown",p),[2]):[2]}))}))};!function(){s(this,void 0,void 0,(function(){return o(this,(function(e){return document.addEventListener("keydown",v),document.addEventListener("keydown",p),console.info("[message-d] completed loading scripts"),[2]}))}))}(),a.browser.runtime.onMessage.addListener((function(e){var r;if("completedTranslation"===e.key){var n=m.find((function(r){return r.translationKey===e.translationKey}));if(n&&e.value.trim()&&(d=[],u.push({dom:n.dom,innerHTML:n.dom.innerHTML}),n.dom.setAttribute("title",null!==(r=n.dom.textContent)&&void 0!==r?r:""),n.dom.innerHTML=""+l.unescapeHTML(e.value)),m=m.filter((function(e){return e.translationKey!==(null==n?void 0:n.translationKey)})),A=!1,!m.length){var t=document.querySelector("#message-d__loader-id");t&&document.body.removeChild(t)}}})),document.addEventListener("keydown",(function(e){if("z"===e.key&&e.ctrlKey){var r=u.pop();r&&(d.push(t(t({},r),{innerHTML:r.dom.innerHTML})),r.dom.innerHTML=r.innerHTML)}})),document.addEventListener("keydown",(function(e){if("Z"===e.key&&e.ctrlKey&&e.shiftKey){var r=d.pop();r&&(u.push(t(t({},r),{innerHTML:r.dom.innerHTML})),r.dom.innerHTML=r.innerHTML)}}))},863:function(e,r){"use strict";var n=this&&this.__awaiter||function(e,r,n,t){return new(n||(n=Promise))((function(s,o){function a(e){try{l(t.next(e))}catch(e){o(e)}}function i(e){try{l(t.throw(e))}catch(e){o(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,i)}l((t=t.apply(e,r||[])).next())}))},t=this&&this.__generator||function(e,r){var n,t,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(s=2&o[0]?t.return:o[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,o[1])).done)return s;switch(t=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(e){o=[6,e],t=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=void 0,r.sha256=function(e){return n(void 0,void 0,void 0,(function(){var r,n;return t(this,(function(t){switch(t.label){case 0:return r=(new TextEncoder).encode(e),[4,crypto.subtle.digest("SHA-256",r)];case 1:return n=t.sent(),[2,Array.from(new Uint8Array(n)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))}},555:function(e,r,n){"use strict";var t=this&&this.__awaiter||function(e,r,n,t){return new(n||(n=Promise))((function(s,o){function a(e){try{l(t.next(e))}catch(e){o(e)}}function i(e){try{l(t.throw(e))}catch(e){o(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,i)}l((t=t.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var n,t,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(s=2&o[0]?t.return:o[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,o[1])).done)return s;switch(t=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(e){o=[6,e],t=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},o=this&&this.__spreadArray||function(e,r){for(var n=0,t=r.length,s=e.length;n<t;n++,s++)e[s]=r[n];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.removeFromStorage=r.setToStorage=r.getSelectorStorage=void 0;var a=n(416);r.getSelectorStorage=function(){return t(void 0,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return[4,a.browser.storage.sync.get("selectors")];case 1:return[2,null!==(e=r.sent())&&void 0!==e?e:{selectors:[]}]}}))}))},r.setToStorage=function(e){return t(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:return[4,r.getSelectorStorage()];case 1:return n=t.sent(),[4,a.browser.storage.sync.set({selectors:Array.from(new Set(o(o([],n.selectors),[e])))})];case 2:return t.sent(),Promise.resolve(),[2]}}))}))},r.removeFromStorage=function(e){return t(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:return[4,r.getSelectorStorage()];case 1:return n=t.sent(),[4,a.browser.storage.sync.set({selectors:o([],n.selectors).filter((function(r){return r!==e}))})];case 2:return t.sent(),[2]}}))}))}},611:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unescapeHTML=void 0,r.unescapeHTML=function(e){var r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#x27;":"'","&#x60;":"`"};return e.replace(/&(lt|gt|amp|quot|#x27|#x60);/g,(function(e){var n;return null!==(n=r[e])&&void 0!==n?n:""}))}},955:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.waitAsync=void 0,r.waitAsync=function(e,r,n){if(void 0===n&&(n=100),e())r();else var t=setInterval((function(){e()&&(clearInterval(t),r())}),n)}},416:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.browser=n(150)},150:function(e,r){var n,t;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(t="function"==typeof(n=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const r="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",t=e=>{const t={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(t).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,r){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(r,n)=>(...t)=>{e.runtime.lastError?r.reject(e.runtime.lastError):n.singleCallbackArg||t.length<=1&&!1!==n.singleCallbackArg?r.resolve(t[0]):r.resolve(t)},a=e=>1==e?"argument":"arguments",i=(e,r,n)=>new Proxy(r,{apply:(r,t,s)=>n.call(t,e,...s)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,r={},n={})=>{let t=Object.create(null),s={has:(r,n)=>n in e||n in t,get(s,g,m){if(g in t)return t[g];if(!(g in e))return;let u=e[g];if("function"==typeof u)if("function"==typeof r[g])u=i(e,e[g],r[g]);else if(l(n,g)){let r=((e,r)=>function(n,...t){if(t.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${a(r.minArgs)} for ${e}(), got ${t.length}`);if(t.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${a(r.maxArgs)} for ${e}(), got ${t.length}`);return new Promise(((s,a)=>{if(r.fallbackToNoCallback)try{n[e](...t,o({resolve:s,reject:a},r))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),n[e](...t),r.fallbackToNoCallback=!1,r.noCallback=!0,s()}else r.noCallback?(n[e](...t),s()):n[e](...t,o({resolve:s,reject:a},r))}))})(g,n[g]);u=i(e,e[g],r)}else u=u.bind(e);else if("object"==typeof u&&null!==u&&(l(r,g)||l(n,g)))u=c(u,r[g],n[g]);else{if(!l(n,"*"))return Object.defineProperty(t,g,{configurable:!0,enumerable:!0,get:()=>e[g],set(r){e[g]=r}}),u;u=c(u,r[g],n["*"])}return t[g]=u,u},set:(r,n,s,o)=>(n in t?t[n]=s:e[n]=s,!0),defineProperty:(e,r,n)=>Reflect.defineProperty(t,r,n),deleteProperty:(e,r)=>Reflect.deleteProperty(t,r)},g=Object.create(e);return new Proxy(g,s)},g=e=>({addListener(r,n,...t){r.addListener(e.get(n),...t)},hasListener:(r,n)=>r.hasListener(e.get(n)),removeListener(r,n){r.removeListener(e.get(n))}});let m=!1;const u=new s((e=>"function"!=typeof e?e:function(r,t,s){let o,a,i=!1,l=new Promise((e=>{o=function(r){m||(console.warn(n,(new Error).stack),m=!0),i=!0,e(r)}}));try{a=e(r,t,o)}catch(e){a=Promise.reject(e)}const c=!0!==a&&((g=a)&&"object"==typeof g&&"function"==typeof g.then);var g;if(!0!==a&&!c&&!i)return!1;return(c?a:l).then((e=>{s(e)}),(e=>{let r;r=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:r})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),d=({reject:n,resolve:t},s)=>{e.runtime.lastError?e.runtime.lastError.message===r?t():n(e.runtime.lastError):s&&s.__mozWebExtensionPolyfillReject__?n(new Error(s.message)):t(s)},A=(e,r,n,...t)=>{if(t.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${a(r.minArgs)} for ${e}(), got ${t.length}`);if(t.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${a(r.maxArgs)} for ${e}(), got ${t.length}`);return new Promise(((e,r)=>{const s=d.bind(null,{resolve:e,reject:r});t.push(s),n.sendMessage(...t)}))},f={runtime:{onMessage:g(u),onMessageExternal:g(u),sendMessage:A.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:A.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return t.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},c(e,f,t)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=t(chrome)}else e.exports=browser})?n.apply(r,[e]):n)||(e.exports=t)}},r={};!function n(t){var s=r[t];if(void 0!==s)return s.exports;var o=r[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}(217)})();